{% extends 'rango/base.html' %}

{% block title %}Search{% endblock %}

{% block body_block %}
  <div class="page-header">
    <h1>Search with Rango</h1>
  </div>

  <div class="row">    
    <form class="col-sm-6 col-xs-12" id="search_form" method="POST" action="{% url 'search' %}">
      {% csrf_token %}
      <div class="form-group required">     
        <label class="control-label" for="query">Search the Web</label>
        <input class="form-control" type="text" name="query" value="" id="query" placeholder="Search Query" required>
      </div>
      <div class="form-group">     
        <button class="btn btn-lg btn-primary btn-block" type="submit" value="Search">Search</button>
      </div>
    </form>
  </div>

  <div class="row">
    <div class="panel panel-default">
    {% if result_list %}

      <div class="panel-heading">
        <h3 class="panel-title">Results</h3>
      </div>

      <div class="list-group">
      {% for result in result_list %}
        <a class="list-group-item" href="{{ result.link }}" target="_blank">
          <h4 class="list-group-item-heading">{{ result.title }}</h4>
          <p class="list-group-item-text">{{ result.summary }}</p>
        </a>
      {% endfor %}
      </div>

    {% endif %}
    </div>
  </div>
{% endblock %}